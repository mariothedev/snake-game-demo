(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],[,,,,,,function(e,t,r){e.exports=r(13)},,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(4),c=r.n(o),i=(r(11),r(5)),l=r(2),s=r(1),h=(r(12),Object(a.forwardRef)((function(e,t){var r=Object(a.useState)(0),o=Object(l.a)(r,2),c=o[0],i=o[1],s=Object(a.useState)(!1),h=Object(l.a)(s,2),u=h[0],d=h[1];return Object(a.useImperativeHandle)(t,(function(){return{reset:function(){i(0),d(!0)},toggle:function(){d(!u)}}})),Object(a.useEffect)((function(){var e=null;return u?e=setInterval((function(){i((function(e){return e+1}))}),1e3):u||0===c||clearInterval(e),function(){return clearInterval(e)}}),[u,c]),n.a.createElement("div",{className:"app"},n.a.createElement("div",{className:"time"},"time : ",c,"s"))}))),u=37,d=38,f=39,g=40,m=65,w=83,v=87,p=68,k=f,b={grid:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=[],a=0;a<e;a++){for(var n=[],o=0;o<t;o++)n.push({row:a,col:o});r.push(n)}return r}(30,30),snake:{head:{row:5,col:9},tail:[]},food:{row:Math.floor(5*Math.random()),col:Math.floor(5*Math.random())},score:0,showGrid:!0,lost:!1,message:"Click start button or any key on keyboard to start the game.",inProgress:!1,highScore:0};var E=function(e,t){switch(t.type){case"game_lost":return Object(s.a)({},e,{showGrid:e.showGrid,lost:!0,inProgress:!1,highScore:t.highScore});case"update":return Object(s.a)({},e,{},t.newState);case"toggle_grid":return Object(s.a)({},e,{showGrid:!e.showGrid});case"update_grid":return Object(s.a)({},e,{grid:t.grid});case"restart":return Object(s.a)({},b,{inProgress:!0,highScore:t.highScore,grid:e.grid,showGrid:e.showGrid});default:return e}};var j=function(){var e=Object(a.useReducer)(E,b),t=Object(l.a)(e,2),r=t[0],o=t[1],c=r.score,j=r.snake,O=r.message,S=r.inProgress,y=Object(a.useRef)(),I=function(e){S?e.which===u||e.which===m?k=u:e.which===f||e.which===p?k=f:e.which===d||e.which===v?k=d:e.which!==g&&e.which!==w||(k=g):C()};Object(a.useEffect)((function(){var e=null;return S?e=setInterval((function(){x()}),100):S||clearInterval(e),function(){clearInterval(e)}}),[S,j.head]),Object(a.useEffect)((function(){return document.addEventListener("keydown",I),function(){document.removeEventListener("keydown",I)}}));var N=function(e){var t=r.snake,a=r.food,n=r.showGrid,o="cell ";return t.head.row===e.row&&t.head.col===e.col?o="cell head":a.row===e.row&&a.col===e.col?o="cell food":t.tail.find((function(t){return t.row===e.row&&t.col===e.col}))&&(o="cell tail"),o=n?o+" cell-border":o},G=function e(){var t=r.snake,a={row:Math.floor(30*Math.random()),col:Math.floor(30*Math.random())};return t.head.row===a.row&&t.head.col===a.col?e():a},M=function(){return localStorage.getItem("highScore")||0},_=M(),x=function(){var e=P();if(R())B();else{var t=1,a=0;k===u?(t=-1,a=0):k===f?(t=1,a=0):k===d?(t=0,a=-1):k===g&&(t=0,a=1);var n={snake:Object(s.a)({},r.snake,{head:{row:r.snake.head.row+a,col:r.snake.head.col+t},tail:[r.snake.head].concat(Object(i.a)(r.snake.tail))}),food:e?G():r.food,score:e?c+1:c};e||n.snake.tail.pop(),o({type:"update",newState:n})}},P=function(){var e=r.food,t=r.snake;return e.row===t.head.row&&e.col===t.head.col},R=function(){var e=r.snake,t=r.grid,a=e.head,n=e.tail;return e.head.col>=t.length||e.head.row>=t.length||e.head.col<0||e.head.row<0||n.find((function(e){return e.row===a.row&&e.col===a.col}))},C=function(){y.current.reset(),J()},B=function(){y.current.toggle(),function(){var e=localStorage.getItem("highScore")||0;c>e&&(e=c),localStorage.setItem("highScore",e)}(),_=M(),o({type:"game_lost",highScore:_})},J=function(){_=M(),o({type:"restart",highScore:_})};return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"info-wrapper"},n.a.createElement(h,{ref:y}),n.a.createElement("label",{class:"checkbox-wrapper"},"show grid",n.a.createElement("input",{type:"checkbox",checked:r.showGrid,onChange:function(e){o({type:"toggle_grid"})},className:"toggle-grid"}),n.a.createElement("span",{class:"check-mark"})),n.a.createElement("div",{className:"checkbox-wrapper"}),n.a.createElement("div",null,"Score : ",c),n.a.createElement("div",null,"high-score : ",_," "),n.a.createElement("button",{onClick:C,className:"restart"},"Restart/Start")),n.a.createElement("div",{className:"message"},O),n.a.createElement("div",{className:"grid-container"},n.a.createElement("div",{className:"grid"},r.grid.map((function(e){return e.map((function(e){var t=N(e);return n.a.createElement("div",{key:e.row+e.col,className:t})}))})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[6,1,2]]]);
//# sourceMappingURL=main.cc3dd245.chunk.js.map